DECLARE cursor_name CURSOR FOR (select distinct xprojectid as projectid from test_ehs) 

with PROJECT_ID as (select distinct xprojectid as projectid from test_ehs),
table1 as (select * from test_ehs where xprojectid like %(select xprojectid from PROJECT_ID))
select * from table1

