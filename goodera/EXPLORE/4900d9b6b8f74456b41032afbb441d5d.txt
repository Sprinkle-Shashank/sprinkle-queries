
with table1 as 
(
  select p.projectid , p._id , p.name , len(p.name) as length_update , max(length_update) , row_number() over 
(partition by p.projectid
 order by p._id desc) as row from profile_4227 as p 
  
  group by p.name ,  p.projectid , p._id 
  order by p.name asc and length_update asc
 )
 
 select * from table1
  